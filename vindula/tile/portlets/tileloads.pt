<tal:def define="view  view/data|nothing;
                 tiles view/getTiles|python:[];
                 scripts view/getScripts_js;">


    <tal:rep_js repeat="name_script scripts">
      <script type="text/javascript"
              tal:attributes="src string:${context/portal_url}/++resource++vindula.tile/js/${name_script}" />
    </tal:rep_js>


    <tal:rep repeat="tile tiles">
        <div id="macro-tile" class="portletWrapper" tal:define="path_macro python:view.getMacro(tile);
                                                                context nocall:tile" style="float:left"
                                                    tal:attributes="class string:portletWrapper ${tile/portal_type} ${tile/getKind|nothing} " >

            <metal:block tal:condition="path_macro"
                         metal:use-macro="python:path(path_macro)" />

        </div>

        <div class="visualClear"></div>
    </tal:rep>
</tal:def>